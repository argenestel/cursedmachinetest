{"version":3,"file":"useSwitchChain-3663e5d5-CzQcZMtM.js","sources":["../../../../node_modules/.pnpm/@latticexyz+account-kit@2.0.12-account-kit-5eff5e311_react-native@0.74.0_typescript@5.4.5_zod@3.23.5/node_modules/@latticexyz/account-kit/dist/vite/useSwitchChain-3663e5d5.js"],"sourcesContent":["import { ch as A, n as b, s as p, b$ as h, ci as M, cj as S, ck as O, cl as N, C as q, g as a, aC as f, cm as K, c3 as y, P as g, e as m, c4 as C, f as v } from \"./bundle-32f13ea4.js\";\nclass _ extends A {\n  constructor({ connector: e }) {\n    super(`\"${e.name}\" does not support programmatic chain switching.`), Object.defineProperty(this, \"name\", {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: \"SwitchChainNotSupportedError\"\n    });\n  }\n}\nasync function Q(n, e) {\n  var c;\n  let t;\n  if (typeof e.connector == \"function\" ? t = n._internal.connectors.setup(e.connector) : t = e.connector, t.uid === n.state.current)\n    throw new b();\n  try {\n    n.setState((i) => ({ ...i, status: \"connecting\" })), t.emitter.emit(\"message\", { type: \"connecting\" });\n    const o = await t.connect({ chainId: e.chainId }), s = o.accounts;\n    return t.emitter.off(\"connect\", n._internal.events.connect), t.emitter.on(\"change\", n._internal.events.change), t.emitter.on(\"disconnect\", n._internal.events.disconnect), await ((c = n.storage) == null ? void 0 : c.setItem(\"recentConnectorId\", t.id)), n.setState((i) => ({\n      ...i,\n      connections: new Map(i.connections).set(t.uid, {\n        accounts: s,\n        chainId: o.chainId,\n        connector: t\n      }),\n      current: t.uid,\n      status: \"connected\"\n    })), { accounts: s, chainId: o.chainId };\n  } catch (o) {\n    throw n.setState((s) => ({\n      ...s,\n      // Keep existing connector connected in case of error\n      status: s.current ? \"connected\" : \"disconnected\"\n    })), o;\n  }\n}\nlet d = [];\nfunction l(n) {\n  const e = n.connectors;\n  return p(d, e) ? d : (d = e, e);\n}\nfunction $(n, e) {\n  const { chainId: t, ...c } = e, o = n.getClient({ chainId: t });\n  return h(o, M, \"getEnsAvatar\")(c);\n}\nfunction F(n, e) {\n  const { chainId: t, ...c } = e, o = n.getClient({ chainId: t });\n  return h(o, S, \"getEnsName\")(c);\n}\nasync function j(n, e) {\n  const { account: t, connector: c, ...o } = e;\n  let s;\n  return typeof t == \"object\" && t.type === \"local\" ? s = n.getClient() : s = await O(n, { account: t, connector: c }), h(s, N, \"signMessage\")({\n    ...o,\n    ...t ? { account: t } : {}\n  });\n}\nasync function B(n, e) {\n  var i;\n  const { addEthereumChainParameter: t, chainId: c } = e, o = n.state.connections.get(((i = e.connector) == null ? void 0 : i.uid) ?? n.state.current);\n  if (o) {\n    const r = o.connector;\n    if (!r.switchChain)\n      throw new _({ connector: r });\n    return await r.switchChain({\n      addEthereumChainParameter: t,\n      chainId: c\n    });\n  }\n  const s = n.chains.find((r) => r.id === c);\n  if (!s)\n    throw new q();\n  return n.setState((r) => ({ ...r, chainId: c })), s;\n}\nfunction P(n, e) {\n  const { onChange: t } = e;\n  return n._internal.connectors.subscribe((c, o) => {\n    t(Object.values(c), o);\n  });\n}\nfunction U(n = {}) {\n  const { onConnect: e, onDisconnect: t } = n, c = a(n);\n  f.useEffect(() => K(c, {\n    onChange(o, s) {\n      if ((s.status === \"reconnecting\" || s.status === \"connecting\" && s.address === void 0) && o.status === \"connected\") {\n        const { address: i, addresses: r, chain: u, chainId: w, connector: E } = o, I = s.status === \"reconnecting\" || // if `previousAccount.status` is `undefined`, the connector connected immediately.\n        s.status === void 0;\n        e == null || e({\n          address: i,\n          addresses: r,\n          chain: u,\n          chainId: w,\n          connector: E,\n          isReconnected: I\n        });\n      } else\n        s.status === \"connected\" && o.status === \"disconnected\" && (t == null || t());\n    }\n  }), [c, e, t]);\n}\nfunction x(n) {\n  return {\n    mutationFn(e) {\n      return Q(n, e);\n    },\n    mutationKey: [\"connect\"]\n  };\n}\nfunction k(n, e = {}) {\n  return {\n    async queryFn({ queryKey: t }) {\n      const { name: c, scopeKey: o, ...s } = t[1];\n      if (!c)\n        throw new Error(\"name is required\");\n      return $(n, { ...s, name: c });\n    },\n    queryKey: R(e)\n  };\n}\nfunction R(n = {}) {\n  return [\"ensAvatar\", y(n)];\n}\nfunction z(n, e = {}) {\n  return {\n    async queryFn({ queryKey: t }) {\n      const { address: c, scopeKey: o, ...s } = t[1];\n      if (!c)\n        throw new Error(\"address is required\");\n      return F(n, { ...s, address: c });\n    },\n    queryKey: G(e)\n  };\n}\nfunction G(n = {}) {\n  return [\"ensName\", y(n)];\n}\nfunction H(n) {\n  return {\n    mutationFn(e) {\n      return j(n, e);\n    },\n    mutationKey: [\"signMessage\"]\n  };\n}\nfunction J(n) {\n  return {\n    mutationFn(e) {\n      return B(n, e);\n    },\n    mutationKey: [\"switchChain\"]\n  };\n}\nfunction L(n = {}) {\n  const e = a(n);\n  return f.useSyncExternalStore((t) => P(e, { onChange: t }), () => l(e), () => l(e));\n}\nfunction V(n = {}) {\n  const { mutation: e } = n, t = a(n), c = x(t), { mutate: o, mutateAsync: s, ...i } = g({\n    ...e,\n    ...c\n  });\n  return f.useEffect(() => t.subscribe(({ status: r }) => r, (r, u) => {\n    u === \"connected\" && r === \"disconnected\" && i.reset();\n  }), [t, i]), {\n    ...i,\n    connect: o,\n    connectAsync: s,\n    connectors: L({ config: t })\n  };\n}\nfunction W(n = {}) {\n  const { name: e, query: t = {} } = n, c = a(n), o = m({ config: c }), s = k(c, {\n    ...n,\n    chainId: n.chainId ?? o\n  }), i = !!(e && (t.enabled ?? !0));\n  return C({ ...t, ...s, enabled: i });\n}\nfunction X(n = {}) {\n  const { address: e, query: t = {} } = n, c = a(n), o = m({ config: c }), s = z(c, {\n    ...n,\n    chainId: n.chainId ?? o\n  }), i = !!(e && (t.enabled ?? !0));\n  return C({ ...t, ...s, enabled: i });\n}\nfunction Y(n = {}) {\n  const { mutation: e } = n, t = a(n), c = H(t), { mutate: o, mutateAsync: s, ...i } = g({\n    ...e,\n    ...c\n  });\n  return {\n    ...i,\n    signMessage: o,\n    signMessageAsync: s\n  };\n}\nfunction Z(n = {}) {\n  const { mutation: e } = n, t = a(n), c = J(t), { mutate: o, mutateAsync: s, ...i } = g({\n    ...e,\n    ...c\n  });\n  return {\n    ...i,\n    chains: v({ config: t }),\n    switchChain: o,\n    switchChainAsync: s\n  };\n}\nexport {\n  _ as S,\n  V as a,\n  L as b,\n  W as c,\n  X as d,\n  Y as e,\n  Z as f,\n  U as u\n};\n//# sourceMappingURL=useSwitchChain-3663e5d5.js.map\n"],"names":["_","A","e","Q","c","t","b","i","p","$","h","M","F","S","j","O","N","o","s","q","P","U","a","f","K","w","E","I","x","R","y","z","G","H","J","L","V","g","W","m","C","X","Y","Z","v"],"mappings":"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","x_google_ignoreList":[0]}