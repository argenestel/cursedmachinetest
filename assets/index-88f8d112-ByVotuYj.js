import{E as V,F as Z,G as ae,_ as l,H as R,I as re,J as X,K as y,M as ie,N as j,O as ne,P as B,Q as N,R as $,T as ue,W as oe}from"./index-COQjmB9B.js";import{Y as ve,Z as me,a0 as Qe,a1 as we,a2 as be,a3 as Me,a4 as Pe,a5 as qe,a6 as Oe,a7 as De,a8 as Ee,a9 as ke,aa as Ae}from"./index-COQjmB9B.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="27ffa527-f67e-4c46-9102-a18e7892442d",e._sentryDebugIdIdentifier="sentry-dbid-27ffa527-f67e-4c46-9102-a18e7892442d")}catch{}})();var z=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},r=(e,t,s)=>(z(e,t,"read from private field"),s?s.call(e):t.get(e)),d=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},o=(e,t,s,a)=>(z(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),F=(e,t,s,a)=>({set _(i){o(e,t,i,s)},get _(){return r(e,t,a)}}),f,G,le=(G=class extends V{constructor(e={}){super(),d(this,f,void 0),this.config=e,o(this,f,new Map)}build(e,t,s){const a=t.queryKey,i=t.queryHash??Z(a,t);let u=this.get(i);return u||(u=new ae({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){r(this,f).has(e.queryHash)||(r(this,f).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=r(this,f).get(e.queryHash);t&&(e.destroy(),t===e&&r(this,f).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,f).get(e)}getAll(){return[...r(this,f).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>R(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>R(e,s)):t}notify(e){l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){l.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){l.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},f=new WeakMap,G),h,E,J,he=(J=class extends V{constructor(e={}){super(),d(this,h,void 0),d(this,E,void 0),this.config=e,o(this,h,new Map),o(this,E,Date.now())}build(e,t,s){const a=new re({mutationCache:this,mutationId:++F(this,E)._,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){const t=k(e),s=r(this,h).get(t)??[];s.push(e),r(this,h).set(t,s),this.notify({type:"added",mutation:e})}remove(e){var t;const s=k(e);if(r(this,h).has(s)){const a=(t=r(this,h).get(s))==null?void 0:t.filter(i=>i!==e);a&&(a.length===0?r(this,h).delete(s):r(this,h).set(s,a))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const s=(t=r(this,h).get(k(e)))==null?void 0:t.find(a=>a.state.status==="pending");return!s||s===e}runNext(e){var t;const s=(t=r(this,h).get(k(e)))==null?void 0:t.find(a=>a!==e&&a.state.isPaused);return s?.continue()??Promise.resolve()}clear(){l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...r(this,h).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>X(t,s))}findAll(e={}){return this.getAll().filter(t=>X(e,t))}notify(e){l.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return l.batch(()=>Promise.all(e.map(t=>t.continue().catch(y))))}},h=new WeakMap,E=new WeakMap,J);function k(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ce(e){return{onFetch:(t,s)=>{const a=async()=>{var i,u,b,I,x;const A=t.options,H=(b=(u=(i=t.fetchOptions)==null?void 0:i.meta)==null?void 0:u.fetchMore)==null?void 0:b.direction,K=((I=t.state.data)==null?void 0:I.pages)||[],W=((x=t.state.data)==null?void 0:x.pageParams)||[],U={pages:[],pageParams:[]};let C=!1;const ee=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},te=t.options.queryFn&&t.options.queryFn!==$?t.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`)),_=async(c,p,g)=>{if(C)return Promise.reject();if(p==null&&c.pages.length)return Promise.resolve(c);const D={queryKey:t.queryKey,pageParam:p,direction:g?"backward":"forward",meta:t.options.meta};ee(D);const se=await te(D),{maxPages:S}=t.options,T=g?ue:oe;return{pages:T(c.pages,se,S),pageParams:T(c.pageParams,p,S)}};let w;if(H&&K.length){const c=H==="backward",p=c?de:Y,g={pages:K,pageParams:W},D=p(A,g);w=await _(g,D,c)}else{w=await _(U,W[0]??A.initialPageParam);const c=e??K.length;for(let p=1;p<c;p++){const g=Y(A,w);w=await _(w,g)}}return w};t.options.persister?t.fetchFn=()=>{var i,u;return(u=(i=t.options).persister)==null?void 0:u.call(i,a,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=a}}}function Y(e,{pages:t,pageParams:s}){const a=t.length-1;return e.getNextPageParam(t[a],t,s[a],s)}function de(e,{pages:t,pageParams:s}){var a;return(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,s[0],s)}var n,v,m,M,P,Q,q,O,L,ye=(L=class{constructor(e={}){d(this,n,void 0),d(this,v,void 0),d(this,m,void 0),d(this,M,void 0),d(this,P,void 0),d(this,Q,void 0),d(this,q,void 0),d(this,O,void 0),o(this,n,e.queryCache||new le),o(this,v,e.mutationCache||new he),o(this,m,e.defaultOptions||{}),o(this,M,new Map),o(this,P,new Map),o(this,Q,0)}mount(){F(this,Q)._++,r(this,Q)===1&&(o(this,q,ie.subscribe(async e=>{e&&(await this.resumePausedMutations(),r(this,n).onFocus())})),o(this,O,j.subscribe(async e=>{e&&(await this.resumePausedMutations(),r(this,n).onOnline())})))}unmount(){var e,t;F(this,Q)._--,r(this,Q)===0&&((e=r(this,q))==null||e.call(this),o(this,q,void 0),(t=r(this,O))==null||t.call(this),o(this,O,void 0))}isFetching(e){return r(this,n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return r(this,v).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const s=this.defaultQueryOptions({queryKey:e});return(t=r(this,n).get(s.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),a=r(this,n).build(this,s);return e.revalidateIfStale&&a.isStaleByTime(s.staleTime)&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return r(this,n).findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),i=r(this,n).get(a.queryHash),u=i?.state.data,b=ne(t,u);if(b!==void 0)return r(this,n).build(this,a).setData(b,{...s,manual:!0})}setQueriesData(e,t,s){return l.batch(()=>r(this,n).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){var t;const s=this.defaultQueryOptions({queryKey:e});return(t=r(this,n).get(s.queryHash))==null?void 0:t.state}removeQueries(e){const t=r(this,n);l.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=r(this,n),a={type:"active",...e};return l.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},a=l.batch(()=>r(this,n).findAll(e).map(i=>i.cancel(s)));return Promise.all(a).then(y).catch(y)}invalidateQueries(e={},t={}){return l.batch(()=>{if(r(this,n).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:t?.cancelRefetch??!0},a=l.batch(()=>r(this,n).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let u=i.fetch(void 0,s);return s.throwOnError||(u=u.catch(y)),i.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(y)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=r(this,n).build(this,t);return s.isStaleByTime(t.staleTime)?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(y).catch(y)}fetchInfiniteQuery(e){return e.behavior=ce(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(y).catch(y)}resumePausedMutations(){return j.isOnline()?r(this,v).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,n)}getMutationCache(){return r(this,v)}getDefaultOptions(){return r(this,m)}setDefaultOptions(e){o(this,m,e)}setQueryDefaults(e,t){r(this,M).set(B(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...r(this,M).values()];let s={};return t.forEach(a=>{N(e,a.queryKey)&&(s={...s,...a.defaultOptions})}),s}setMutationDefaults(e,t){r(this,P).set(B(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...r(this,P).values()];let s={};return t.forEach(a=>{N(e,a.mutationKey)&&(s={...s,...a.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...r(this,m).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Z(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...r(this,m).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){r(this,n).clear(),r(this,v).clear()}},n=new WeakMap,v=new WeakMap,m=new WeakMap,M=new WeakMap,P=new WeakMap,Q=new WeakMap,q=new WeakMap,O=new WeakMap,L);export{ve as CancelledError,he as MutationCache,me as MutationObserver,ae as Query,le as QueryCache,ye as QueryClient,Qe as QueryClientContext,we as QueryClientProvider,be as QueryObserver,ie as focusManager,B as hashKey,Me as isCancelledError,Pe as isServer,X as matchMutation,R as matchQuery,l as notifyManager,j as onlineManager,qe as replaceEqualDeep,$ as skipToken,Oe as useIsRestoring,De as useMutation,Ee as useQuery,ke as useQueryClient,Ae as useQueryErrorResetBoundary};
//# sourceMappingURL=index-88f8d112-ByVotuYj.js.map
