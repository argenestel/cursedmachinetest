{"version":3,"file":"ccip-8b1b871f-BVGe8iB-.js","sources":["../../../../node_modules/.pnpm/@latticexyz+account-kit@2.0.12-account-kit-5eff5e311_react-native@0.74.0_typescript@5.4.5_zod@3.23.5/node_modules/@latticexyz/account-kit/dist/vite/ccip-8b1b871f.js"],"sourcesContent":["import { a8 as p, co as w, cp as b, al as h, am as m, cq as O, cr as L, bx as E, bg as x, cs as y, ct as M } from \"./bundle-32f13ea4.js\";\nclass R extends p {\n  constructor({ callbackSelector: e, cause: t, data: n, extraData: c, sender: u, urls: a }) {\n    var i;\n    super(t.shortMessage || \"An error occurred while fetching for an offchain result.\", {\n      cause: t,\n      metaMessages: [\n        ...t.metaMessages || [],\n        (i = t.metaMessages) != null && i.length ? \"\" : [],\n        \"Offchain Gateway Call:\",\n        a && [\n          \"  Gateway URL(s):\",\n          ...a.map((d) => `    ${w(d)}`)\n        ],\n        `  Sender: ${u}`,\n        `  Data: ${n}`,\n        `  Callback selector: ${e}`,\n        `  Extra data: ${c}`\n      ].flat()\n    }), Object.defineProperty(this, \"name\", {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: \"OffchainLookupError\"\n    });\n  }\n}\nclass $ extends p {\n  constructor({ result: e, url: t }) {\n    super(\"Offchain gateway response is malformed. Response data must be a hex value.\", {\n      metaMessages: [\n        `Gateway URL: ${w(t)}`,\n        `Response: ${b(e)}`\n      ]\n    }), Object.defineProperty(this, \"name\", {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: \"OffchainLookupResponseMalformedError\"\n    });\n  }\n}\nclass S extends p {\n  constructor({ sender: e, to: t }) {\n    super(\"Reverted sender address does not match target contract address (`to`).\", {\n      metaMessages: [\n        `Contract address: ${t}`,\n        `OffchainLookup sender address: ${e}`\n      ]\n    }), Object.defineProperty(this, \"name\", {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: \"OffchainLookupSenderMismatchError\"\n    });\n  }\n}\nfunction q(r, e) {\n  if (!h(r, { strict: !1 }))\n    throw new m({ address: r });\n  if (!h(e, { strict: !1 }))\n    throw new m({ address: e });\n  return r.toLowerCase() === e.toLowerCase();\n}\nconst P = \"0x556f1830\", A = {\n  name: \"OffchainLookup\",\n  type: \"error\",\n  inputs: [\n    {\n      name: \"sender\",\n      type: \"address\"\n    },\n    {\n      name: \"urls\",\n      type: \"string[]\"\n    },\n    {\n      name: \"callData\",\n      type: \"bytes\"\n    },\n    {\n      name: \"callbackFunction\",\n      type: \"bytes4\"\n    },\n    {\n      name: \"extraData\",\n      type: \"bytes\"\n    }\n  ]\n};\nasync function j(r, { blockNumber: e, blockTag: t, data: n, to: c }) {\n  const { args: u } = O({\n    data: n,\n    abi: [A]\n  }), [a, i, d, s, o] = u, { ccipRead: f } = r, g = f && typeof (f == null ? void 0 : f.request) == \"function\" ? f.request : v;\n  try {\n    if (!q(c, a))\n      throw new S({ sender: a, to: c });\n    const l = await g({ data: d, sender: a, urls: i }), { data: k } = await L(r, {\n      blockNumber: e,\n      blockTag: t,\n      data: E([\n        s,\n        x([{ type: \"bytes\" }, { type: \"bytes\" }], [l, o])\n      ]),\n      to: c\n    });\n    return k;\n  } catch (l) {\n    throw new R({\n      callbackSelector: s,\n      cause: l,\n      data: n,\n      extraData: o,\n      sender: a,\n      urls: i\n    });\n  }\n}\nasync function v({ data: r, sender: e, urls: t }) {\n  var c;\n  let n = new Error(\"An unknown error occurred.\");\n  for (let u = 0; u < t.length; u++) {\n    const a = t[u], i = a.includes(\"{data}\") ? \"GET\" : \"POST\", d = i === \"POST\" ? { data: r, sender: e } : void 0;\n    try {\n      const s = await fetch(a.replace(\"{sender}\", e).replace(\"{data}\", r), {\n        body: JSON.stringify(d),\n        method: i\n      });\n      let o;\n      if ((c = s.headers.get(\"Content-Type\")) != null && c.startsWith(\"application/json\") ? o = (await s.json()).data : o = await s.text(), !s.ok) {\n        n = new y({\n          body: d,\n          details: o != null && o.error ? b(o.error) : s.statusText,\n          headers: s.headers,\n          status: s.status,\n          url: a\n        });\n        continue;\n      }\n      if (!M(o)) {\n        n = new $({\n          result: o,\n          url: a\n        });\n        continue;\n      }\n      return o;\n    } catch (s) {\n      n = new y({\n        body: d,\n        details: s.message,\n        url: a\n      });\n    }\n  }\n  throw n;\n}\nexport {\n  v as ccipRequest,\n  j as offchainLookup,\n  A as offchainLookupAbiItem,\n  P as offchainLookupSignature\n};\n//# sourceMappingURL=ccip-8b1b871f.js.map\n"],"names":["R","p","e","n","c","u","a","i","d","w","$","b","S","q","r","h","m","P","A","j","O","s","o","f","g","v","l","L","E","x","y","M"],"mappings":"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","x_google_ignoreList":[0]}